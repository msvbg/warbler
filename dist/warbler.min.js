!function(n,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var e in t)("object"==typeof exports?exports:n)[e]=t[e]}}(this,function(){return function(n){function r(e){if(t[e])return t[e].exports;var u=t[e]={exports:{},id:e,loaded:!1};return n[e].call(u.exports,u,u.exports,r),u.loaded=!0,u.exports}var t={};return r.m=n,r.c=t,r.p="",r(0)}([function(n,r,t){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function u(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}function i(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=function(){function n(n,r){var t=[],e=!0,u=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done)&&(t.push(o.value),!r||t.length!==r);e=!0);}catch(s){u=!0,i=s}finally{try{!e&&c["return"]&&c["return"]()}finally{if(u)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0}),r.expect=r.any=r.lazyMany=r.whitespace=r.integer=r.digit=r.list=r.mapSeq=r.wrap=r.skip=r.terminals=r.opt=r.many=r.seq=r.or=r.value=r.isSuccess=void 0;var c=t(1),s=e(c),a=t(5),f=e(a),l=r.isSuccess=function(n){return Boolean(n.success&&0===n.rest.length)},v=r.value=function(n){return n.value},p=r.or=function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];var e=Array.from(r).map(function(n){return M(n)});return M(function(n,r){var t=!0,u=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var s=o.value,a=s(n,r);if(a.success)return a}}catch(f){u=!0,i=f}finally{try{!t&&c["return"]&&c["return"]()}finally{if(u)throw i}}return{success:!1,value:void 0,rest:n}})},d=r.seq=function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];var e=Array.from(r).map(function(n){return M(n)});return M(function(n,r){var t={success:!0,value:[],rest:n},u=!0,i=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var a=c.value,f=a(t.rest,r);if(t.success=t.success&&f.success,!t.success)return{success:!1,value:f.value,rest:n};t.value.push(f.value),t.rest=f.rest}}catch(l){i=!0,o=l}finally{try{!u&&s["return"]&&s["return"]()}finally{if(i)throw o}}return t})},y=r.many=function(n){return M(function(r,t){var e={success:!0,value:[],rest:r},u=void 0;do u=n(e.rest,t),e.rest=u.rest,u.success&&e.value.push(v(u));while(u.success);return e})},m=r.opt=function(n){var r=M(n);return M(function(n,t){var e={success:!0,value:void 0,rest:n},u=r(n,t);return u.success&&(e.value=u.value,e.rest=u.rest),e})},h=r.terminals=function(n){return function(r){return function(t,e){return r(t,L(e,{terminals:n}))}}},g=r.skip=function(n){return function(r){return M(d(n,r,n).nth(1))}},x=r.wrap=function(n,r,t){return void 0===t&&(t=r,r=n),M(function(e,u){return d(n,t,r).nth(1)(e,u)})},b=r.mapSeq=function(n){return M(function(r,t){var e={},u=function(n){return function(r){return e[n]=r}},o=d.apply(void 0,i(n(u)))(r,t);return o.value=e,o})},j=function(n,r){return _(M(function(t,e){var u=n(t,e);return u.success&&(u.value=r(u.value)),u}))},w=function(n,r){return j(n,function(n){return r})},A=function(n,r){var t=arguments;if(!(arguments.length>2))return j(n,function(n){return n[r]});var e=function(){var r=Array.from(t).slice(1);return{v:j(n,function(n){return r.map(function(r){return n[r]})})}}();return"object"===("undefined"==typeof e?"undefined":u(e))?e.v:void 0},S=function(n,r,t){return j(n,function(n){return n[r]=t,n})},O=function(n,r){return j(n,function(n){return n.slice(r)})},k=function(n,r){return j(n,function(n){return n.slice(0,-r)})},q=function(n,r){return j(n,function(n){return n.slice(0,r)})},E=function(n,r){return j(n,function(n){return n.slice(-r)})},M=function(n){if(void 0===n)throw new TypeError("Attempt to use `undefined` as parser.");if(arguments.length>1)return p.apply(void 0,arguments);if(Array.isArray(n))return d.apply(void 0,i(n));var r=function(n){return"string"==typeof n?z(n):(0,s["default"])(n)?R(n):void 0},t=function(n){return function(t,e){var u=r(n);return e=e||L(),u?e&&e.terminals?e.terminals(u)(t,L(e,{terminals:void 0})):u(t,e):n(t,e)}};return _(t(n))},I=r.list=function(n){var r=arguments.length<=1||void 0===arguments[1]?",":arguments[1];return m(d(n,y(d(r,n).map(function(n){return n[1]}))).map(function(n){var r=o(n,2),t=r[0],e=r[1];return[t].concat(i(e))})).map(function(n){return n||[]})},_=function(n){return Object.assign(n,{map:function(n){return j(this,n)},nth:function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];return A.apply(void 0,[this].concat(r))},"const":function(n){return w(this,n)},set:function(n,r){return S(this,n,r)},skip:function(n){return O(this,n)},skipLast:function(n){return k(this,n)},take:function(n){return q(this,n)},takeLast:function(n){return E(this,n)}})},z=function(n){return function(r,t){var e=r.startsWith(n);return e&&t.advance(n),{success:e,value:e?n:void 0,rest:e?r.slice(n.length):r}}},R=function(n){return function(r,t){var e=n.exec(r),u=null!==e&&0===e.index;return u&&t.advance(e[0]),{success:u,value:u?e[0]:"",rest:u?r.slice(e[0].length):r}}},L=function(n,r){var t={line:1,col:1,advance:function(n){this.line+=n.split("\n").length-1;var r=n.lastIndexOf("\n");-1!==r&&(this.col=n.length-r)}};return Object.assign(Object.create(n||t),r)},T=r.digit=M(/[0-9]/),$=r.integer=M(/[0-9]+/).map(Number),B=r.whitespace=M(/\s*/),N=r.lazyMany=function(n,r){var t=[n,r].map(function(n){return M(n)}),e=o(t,2),u=e[0],i=e[1];return M(function(n,r){var t={success:!0,value:[],rest:n},e=void 0,o=void 0;do{if(e=u(t.rest,r),o=i(e.rest,r),e.success&&(t.value.push(v(e)),o.success))return t.value.push(v(o)),t;t.rest=e.rest}while(e.success);return i(n,r)})},P=r.any=function(n){var r=n.length>0,t=r?n.charAt(0):void 0,e=n.slice(1);return{success:r,value:t,rest:e}},W=r.expect=function(n,r){return M(function(t,e){var u=n(t,e);return u.success?u:{success:!1,value:"["+e.line+":"+e.col+"]: Expected "+r+', got "'+(0,f["default"])(t,10)+'"',rest:t}})};r["default"]=Object.assign(M,{isSuccess:l,value:v,or:p,seq:d,many:y,opt:m,terminals:h,skip:g,wrap:x,mapSeq:b,list:I,digit:T,integer:$,whitespace:B,lazyMany:N,any:P,expect:W})},function(n,r){"use strict";n.exports=function(n){return"[object RegExp]"===Object.prototype.toString.call(n)}},function(n,r){function t(n){return null==n?"":n+""}n.exports=t},function(n,r){function t(n){return function(r){return null==r?void 0:r[n]}}function e(n){return null!=n&&o(f(n))}function u(n,r){return n="number"==typeof n||s.test(n)?+n:-1,r=null==r?a:r,n>-1&&n%1==0&&r>n}function i(n,r,t){if(!c(t))return!1;var i=typeof r;if("number"==i?e(t)&&u(r,t.length):"string"==i&&r in t){var o=t[r];return n===n?n===o:o!==o}return!1}function o(n){return"number"==typeof n&&n>-1&&n%1==0&&a>=n}function c(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}var s=/^\d+$/,a=9007199254740991,f=t("length");n.exports=i},function(n,r){function t(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function e(n){return t(n)&&o.call(n)==u}var u="[object RegExp]",i=Object.prototype,o=i.toString;n.exports=e},function(n,r,t){function e(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function u(n,r,t){t&&o(n,r,t)&&(r=void 0);var u=s,l=a;if(null!=r)if(e(r)){var v="separator"in r?r.separator:v;u="length"in r?+r.length||0:u,l="omission"in r?i(r.omission):l}else u=+r||0;if(n=i(n),u>=n.length)return n;var p=u-l.length;if(1>p)return l;var d=n.slice(0,p);if(null==v)return d+l;if(c(v)){if(n.slice(p).search(v)){var y,m,h=n.slice(0,p);for(v.global||(v=RegExp(v.source,(f.exec(v)||"")+"g")),v.lastIndex=0;y=v.exec(h);)m=y.index;d=d.slice(0,null==m?p:m)}}else if(n.indexOf(v,p)!=p){var g=d.lastIndexOf(v);g>-1&&(d=d.slice(0,g))}return d+l}var i=t(2),o=t(3),c=t(4),s=30,a="...",f=/\w*$/;n.exports=u}])});